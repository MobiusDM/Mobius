// Automatically generated by mockimpl. DO NOT EDIT!

package mock

import (
	"context"
	"sync"

	"github.com/notawar/mobius/v4/server/mobius"
)

var _ mobius.QueryResultStore = (*QueryResultStore)(nil)

type WriteResultFunc func(result mobius.DistributedQueryResult) error

type ReadChannelFunc func(ctx context.Context, query mobius.DistributedQueryCampaign) (<-chan interface{}, error)

type HealthCheckFunc func() error

type QueryResultStore struct {
	WriteResultFunc        WriteResultFunc
	WriteResultFuncInvoked bool

	ReadChannelFunc        ReadChannelFunc
	ReadChannelFuncInvoked bool

	HealthCheckFunc        HealthCheckFunc
	HealthCheckFuncInvoked bool

	mu sync.Mutex
}

func (s *QueryResultStore) WriteResult(result mobius.DistributedQueryResult) error {
	s.mu.Lock()
	s.WriteResultFuncInvoked = true
	s.mu.Unlock()
	return s.WriteResultFunc(result)
}

func (s *QueryResultStore) ReadChannel(ctx context.Context, query mobius.DistributedQueryCampaign) (<-chan interface{}, error) {
	s.mu.Lock()
	s.ReadChannelFuncInvoked = true
	s.mu.Unlock()
	return s.ReadChannelFunc(ctx, query)
}

func (s *QueryResultStore) HealthCheck() error {
	s.mu.Lock()
	s.HealthCheckFuncInvoked = true
	s.mu.Unlock()
	return s.HealthCheckFunc()
}
